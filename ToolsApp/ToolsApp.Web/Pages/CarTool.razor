@page "/car-tool"

<ToolHeader HeaderText="Car Tool"></ToolHeader>

<CarTable Cars="@cars"></CarTable>

<CarForm ButtonText="Add Car" OnSubmitCar="AddCar"></CarForm>



@code {

  private List<ICar> cars { get; set; } = new List<ICar>() {
    new Car() {
      Id = 1, Make = "Ford", Model = "Fusion Hybrid",
      Year = 2020, Color = "red", Price = 45000
    },
    new Car() {
      Id = 2, Make = "Tesla", Model = "S",
      Year = 2021, Color = "blue", Price = 120000
    },
  };

  public void AddCar(INewCar newCar) {
    var car = new Car()
      {
        Make = newCar.Make,
        Model = newCar.Model,
        Year = newCar.Year,
        Color = newCar.Color,
        Price = newCar.Price,
      };

    car.Id = cars.Any() ? cars.Max(c => c.Id) + 1 : 1;

    cars.Add(car);
  }  

}
